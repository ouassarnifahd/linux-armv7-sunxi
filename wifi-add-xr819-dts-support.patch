--- arch/arm/boot/dts/sun8i-h2-plus-orangepi-zero.dts	2019-06-01 20:51:59.409020470 +0200
+++ arch/arm/boot/dts/sun8i-h2-plus-orangepi-zero.dts.new	2019-06-01 20:58:14.660801285 +0200
@@ -82,8 +82,8 @@
 
 	reg_vcc_wifi: reg_vcc_wifi {
 		compatible = "regulator-fixed";
-		regulator-min-microvolt = <3300000>;
-		regulator-max-microvolt = <3300000>;
+		regulator-min-microvolt = <1800000>;
+		regulator-max-microvolt = <1800000>;
 		regulator-name = "vcc-wifi";
 		enable-active-high;
 		gpio = <&pio 0 20 GPIO_ACTIVE_HIGH>;
@@ -109,7 +109,8 @@
 	wifi_pwrseq: wifi_pwrseq {
 		compatible = "mmc-pwrseq-simple";
 		reset-gpios = <&r_pio 0 7 GPIO_ACTIVE_LOW>;
-		post-power-on-delay-ms = <200>;
+        pinctrl-0 = <&wifi_rst>;
+        post-power-on-delay-ms = <50>;
 	};
 };
 
@@ -140,19 +141,48 @@
 };
 
 &mmc1 {
-	vmmc-supply = <&reg_vcc_wifi>;
+    pinctrl-names = "default";
+    pinctrl-0 = <&mmc1_pins_a>;
+	vmmc-supply = <&reg_vcc3v3>;
+    vqmmc-supply = <&reg_vcc_wifi>;
 	mmc-pwrseq = <&wifi_pwrseq>;
 	bus-width = <4>;
+    max-frequency = <16000000>;
 	non-removable;
 	status = "okay";
-
-	/*
+	
+    /*
 	 * Explicitly define the sdio device, so that we can add an ethernet
 	 * alias for it (which e.g. makes u-boot set a mac-address).
 	 */
-	xr819: sdio_wifi@1 {
-		reg = <1>;
-	};
+    xr819: xr819_wifi@1 {
+        reg = <1>;
+        compatible = "xradio,xr819";
+        pinctrl-names = "default";
+        pinctrl-0 = <&wifi_wake>;
+        interrupt-parent = <&pio>;
+        interrupts = <6 10 IRQ_TYPE_EDGE_RISING>;
+        interrupt-names = "host-wake";
+        local-mac-address = [dc 44 6d c0 ff ee];
+    };
+};
+
+&pio {
+    wifi_wake: wifi_wake {
+        pins = "PG10";
+        function = "gpio_in";
+    };
+};
+
+&r_pio {
+    wifi_rst: wifi_rst {
+        pins = "PL7";
+        function = "gpio_out";              
+    };
+};
+
+&mmc1_pins_a {
+    bias-pull-up;
 };
 
 &ohci0 {
